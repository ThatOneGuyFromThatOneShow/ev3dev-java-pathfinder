

/*
sudo systemctl stop bluetooth
sudo systemctl stop ntp
sudo systemctl stop nmbd
sudo systemctl stop brickman
 */

task stopBluetooth << {
    ssh.run {
        session(remotes.ev3dev) {
            println "echo -e \"maker\" | sudo -S sudo systemctl stop bluetooth"
            execute "echo -e \"maker\" | sudo -S sudo systemctl stop bluetooth"
        }
    }
}

task restartBluetooth << {
    ssh.run {
        session(remotes.ev3dev) {
            println "echo -e \"maker\" | sudo -S sudo systemctl restart bluetooth"
            execute "echo -e \"maker\" | sudo -S sudo systemctl restart bluetooth"
        }
    }
}

task stopNtp << {
    ssh.run {
        session(remotes.ev3dev) {
            println "echo -e \"maker\" | sudo -S sudo systemctl stop ntp"
            execute "echo -e \"maker\" | sudo -S sudo systemctl stop ntp"
        }
    }
}

task restartNtp << {
    ssh.run {
        session(remotes.ev3dev) {
            println "echo -e \"maker\" | sudo -S sudo systemctl restart ntp"
            execute "echo -e \"maker\" | sudo -S sudo systemctl restart ntp"
        }
    }
}


task stopNmbd << {
    ssh.run {
        session(remotes.ev3dev) {
            println "echo -e \"maker\" | sudo -S sudo systemctl stop nmbd"
            execute "echo -e \"maker\" | sudo -S sudo systemctl stop nmbd"
        }
    }
}

task restartNmbd << {
    ssh.run {
        session(remotes.ev3dev) {
            println "echo -e \"maker\" | sudo -S sudo systemctl restart nmbd"
            execute "echo -e \"maker\" | sudo -S sudo systemctl restart nmbd"
        }
    }
}


task stopBrickman << {
    ssh.run {
        session(remotes.ev3dev) {
            println "echo -e \"maker\" | sudo -S sudo systemctl stop brickman"
            execute "echo -e \"maker\" | sudo -S sudo systemctl stop brickman"
        }
    }
}

task restartBrickman << {
    ssh.run {
        session(remotes.ev3dev) {
            println "echo -e \"maker\" | sudo -S sudo systemctl restart brickman"
            execute "echo -e \"maker\" | sudo -S sudo systemctl restart brickman"
        }
    }
}

task getDebianDistro << {
    ssh.run {
        session(remotes.ev3dev) {
            println "cat /etc/os-release"
            execute "cat /etc/os-release"
        }
    }
}



//Organize tasks in a Group
def groupName = "ev3dev"
stopBluetooth.group = groupName
restartBluetooth.group = groupName
stopNtp.group = groupName
restartNtp.group = groupName
stopNmbd.group = groupName
restartNmbd.group = groupName
stopBrickman.group = groupName
restartBrickman.group = groupName
getDebianDistro.group = groupName
